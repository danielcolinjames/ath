{"version":3,"sources":["../../../../build/webpack/plugins/middleware-plugin.ts"],"names":["webpack","sources","getMiddlewareRegex","getSortedRoutes","MIDDLEWARE_MANIFEST","MIDDLEWARE_ROUTE","PLUGIN_NAME","MIDDLEWARE_FULL_ROUTE_REGEX","MiddlewarePlugin","dev","constructor","createAssets","compilation","assets","envPerRoute","entrypoints","middlewareManifest","sortedMiddleware","middleware","version","entrypoint","values","result","exec","name","location","files","getFiles","filter","file","endsWith","map","startsWith","replace","env","get","page","regexp","namedRegex","Object","keys","RawSource","JSON","stringify","apply","compiler","hooks","tap","normalModuleFactory","Map","finishModules","moduleGraph","clear","info","entries","match","middlewareEntries","Set","addEntriesFromDependency","dep","module","getModule","add","dependencies","forEach","includeDependencies","queue","buildInfo","usingIndirectEval","error","WebpackError","warnings","push","nextUsedEnvVars","undefined","envName","connections","getOutgoingConnections","connection","set","Array","from","handler","parser","flagModule","state","expression","for","memberChainHandler","_expr","members","layer","length","callMemberChain","expressionMemberChain","processAssets","stage","Compilation","PROCESS_ASSETS_STAGE_ADDITIONS"],"mappings":"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"}