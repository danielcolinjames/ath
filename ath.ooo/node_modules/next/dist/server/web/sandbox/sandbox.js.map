{"version":3,"sources":["../../../../server/web/sandbox/sandbox.ts"],"names":["RequestData","FetchEventResult","NodeHeaders","Blob","File","FormData","dirname","ReadableStream","readFileSync","TransformStream","polyfills","cookie","vm","cache","WEBPACK_HASH_REGEX","clearSandboxCache","path","content","prev","paths","get","replace","undefined","toString","run","params","context","_ENTRIES","atob","btoa","clearInterval","clearTimeout","console","assert","bind","error","info","log","time","timeEnd","timeLog","warn","Crypto","crypto","fetch","input","init","url","getFetchURL","request","headers","getFetchHeaders","name","isRequestLike","Object","fromEntries","process","env","setInterval","setTimeout","TextDecoder","TextEncoder","URL","URLSearchParams","self","require","Map","resolve","exports","sandbox","createContext","loadDependencies","map","Headers","Response","Request","paramPath","has","runInNewContext","filename","set","entryPoint","default","ctx","dependencies","mod","sandboxRequire","mapKey","keys","referrer","specifier","resolved","cached","module","loaded","id","fn","runInContext","delete","middleware","prevsub","value","split","concat","join","initurl","startsWith","host","localhost","obj","Boolean"],"mappings":"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"}